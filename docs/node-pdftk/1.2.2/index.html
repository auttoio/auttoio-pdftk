<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>node-pdftk 1.2.2</h3>










    




    <section>
        <article><h1>node-pdftk</h1><p>A wrapper for <a href="https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/">PDFtk</a> with streams and promises. All methods included.</p>
<h2>Requirements</h2><p>Make sure you have <a href="https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/">PDFtk</a> installed and in your system path.</p>
<blockquote>
<p><strong>Mac users</strong> - Be aware of <a href="https://github.com/jjwilly16/node-pdftk/issues/3">this PDFTk issue</a></p>
</blockquote>
<h2>Installation</h2><pre class="prettyprint source lang-cmd"><code>npm install node-pdftk</code></pre><pre class="prettyprint source lang-javascript"><code>const pdftk = require('node-pdftk');</code></pre><h2>Usage</h2><blockquote>
<p>Fill a form</p>
</blockquote>
<pre class="prettyprint source lang-javascript"><code>pdftk
    .input('./myfile.pdf')
    .fillForm({
        some: 'data',
        to: 'fill',
        the: 'form',
    })
    .flatten()
    .output()
    .then(buffer => {
        // Do stuff with the output buffer
    })
    .catch(err => {
        // handle errors
    });</code></pre><blockquote>
<p>Catenate pages</p>
</blockquote>
<pre class="prettyprint source lang-javascript"><code>pdftk
    .input({
        A: './page1.pdf',
        B: fs.readFileSync('./page2.pdf'),
    })
    .cat('A B')
    .output('./2pagefile.pdf')
    .then(buffer => {
        // Do stuff with the output buffer
    })
    .catch(err => {
        // handle errors
    });</code></pre><blockquote>
<p>Stamp page</p>
</blockquote>
<pre class="prettyprint source lang-javascript"><code>pdftk
    .input('./iNeedALogo.pdf')
    .stamp('./logo.pdf')
    .output()
    .then(buffer => {
        // Do stuff with the output buffer
    })
    .catch(err => {
        // handle errors
    });</code></pre><h2>How it works</h2><p>All instances must begin with the <strong>.input</strong> method and end with the <strong>.output</strong> method.</p>
<p>The <strong>.input</strong> method will accept a buffer, file path, or an array of buffer/file paths. It will then initialize the input of the command.</p>
<p>Any method called after input will simply add on commands. There is a certain amount of responsibility in the user's hands to make sure the commands will work properly in the order you call them. For example, you cannot call <em>.fillForm().stamp()</em>. Read the <a href="https://www.pdflabs.com/docs/pdftk-man-page/">PDFtk docs</a> to learn more.</p>
<p>The <strong>.output</strong> method simply executes the command and spits out the stdout either as a buffer or to a file.</p>
<ul>
<li><strong>Note:</strong> - The output method is not needed for all methods (e.g. burst, unpackFiles)</li>
</ul>
<h2>More Examples</h2><blockquote>
<p>Express example - render directly in browser</p>
</blockquote>
<pre class="prettyprint source lang-javascript"><code>app.get('./file.pdf', (req, res, next) => {
    pdftk
        .input('./file.pdf')
        .fillForm(formdata)
        .flatten()
        .output()
        .then(buf => {
            res.type('application/pdf'); // If you omit this line, file will download
            res.send(buf);
        })
        .catch(next);
});</code></pre><blockquote>
<p>Input a buffer, output a file and a buffer</p>
</blockquote>
<pre class="prettyprint source lang-javascript"><code>pdftk
    .input(fs.readFileSync('./file.pdf'))
    .output('./path/to/output.pdf')
    .then(buffer => {
        // Still returns a buffer
    })
    .catch(err => {
        // handle errors
    });</code></pre><blockquote>
<p>Useful chaining</p>
</blockquote>
<pre class="prettyprint source lang-javascript"><code>pdftk
    .input('./form.pdf')
    .fillForm(myFormData)
    .flatten()
    .output()
    .then(buffer => {
        return pdftk
            .input(buffer)
            .stamp('./logo.pdf')
            .output()
    })
    .then(buffer => {
        // Do stuff with buffer
    })
    .catch(err => {
        // handle errors
    });</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PdfTk.html">PdfTk</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Feb 06 2018 11:38:32 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>